{% load static %} {% load dashboard_extras %}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <meta name="description" content="" />
    <meta name="author" content="" />
    <!-- <link rel="icon" href="../../favicon.ico"> -->
    <link
      rel="canonical"
      href="https://getbootstrap.com/docs/3.4/examples/dashboard/"
    />

    <title>{% block title %}{% endblock %}</title>

    <!-- Bootstrap core CSS -->

    <link
      rel="stylesheet"
      type="text/css"
      href="{% static 'rest_framework/css/bootstrap.min.css' %}"
    />

    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <link
      href="https://getbootstrap.com/docs/3.4/assets/css/ie10-viewport-bug-workaround.css"
      rel="stylesheet"
    />

    <!-- Custom styles for this template -->
    <link
      href="https://getbootstrap.com/docs/3.4/examples/dashboard/dashboard.css"
      rel="stylesheet"
    />

    <link
      rel="stylesheet"
      type="text/css"
      href="{% static 'rest_framework/css/bootstrap-tweaks.css' %}"
    />
    <link
      rel="stylesheet"
      type="text/css"
      href="{% static 'rest_framework/css/prettify.css' %}"
    />
    <link
      rel="stylesheet"
      type="text/css"
      href="{% static 'rest_framework/css/default.css' %}"
    />

    {% block style %} {% endblock %}
    <link href="{% static 'dashboard/css/custom.css' %}" rel="stylesheet" />
    <link
      href="https://monim67.github.io/bootstrap-datetimepicker/css/bootstrap-datetimepicker.min.css"
      type="text/css"
      media="all"
      rel="stylesheet"
    />
    <!-- Just for debugging purposes. Don't actually copy these 2 lines! -->
    <!--[if lt IE 9
      ]><script src="../../assets/js/ie8-responsive-file-warning.js"></script
    ><![endif]-->
    <script src="https://getbootstrap.com/docs/3.4/assets/js/ie-emulation-modes-warning.js"></script>

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
      <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
    <![endif]-->
  </head>

  <body>
    <nav class="navbar navbar-inverse navbar-fixed-top">
      <div style="padding: 0 15px">
        <div class="navbar-header">
          <button
            type="button"
            class="navbar-toggle collapsed"
            data-toggle="collapse"
            data-target="#navbar"
            aria-expanded="false"
            aria-controls="navbar"
          >
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="#">CESEM</a>
        </div>
        <div
          id="navbar"
          class="navbar-collapse collapse"
          aria-expanded="false"
          style="height: 1px"
        >
          <ul class="nav navbar-nav">
            {% if user.is_superuser %}
            <li class="nav-item">
              <a
                class="bd-links-link d-inline-block rounded {{'reports/weekly'|active_if_path_match:request}}"
                href="{% url 'dashboard:report_weekly'%}"
              >
                Reporte Semanal
              </a>
            </li>
            <li class="nav-item">
              <a
                class="bd-links-link d-inline-block rounded {{'reports/monthly'|active_if_path_match:request}}"
                href="{% url 'dashboard:report_monthly'%}"
              >
                Reporte Mensual
              </a>
            </li>
            <li class="nav-item">
              <a
                class="bd-links-link d-inline-block rounded {{'reports/yearly'|active_if_path_match:request}}"
                href="{% url 'dashboard:report_yearly'%}"
              >
                Reporte Anual
              </a>
            </li>
            {% endif %}
            <li class="nav-item">
              <a
                class="bd-links-link d-inline-block rounded {{'reports/zones'|active_if_path_match:request}}"
                href="{% url 'dashboard:report_zones'%}"
              >
                Reporte Por Zona
              </a>
            </li>
            <li class="nav-item">
              <a
                class="bd-links-link d-inline-block rounded {{'reports/community'|active_if_path_match:request}}"
                +
                href="{% url 'dashboard:report_community'%}"
              >
                Reporte Por Comunidad
              </a>
            </li>
            <li class="nav-item">
              <a
                class="bd-links-link d-inline-block rounded {{'visits-grass'|active_if_path_match:request}}"
                href="{% url 'dashboard:visits-grass-list'%}"
              >
                Visita de Pastos</a
              >
            </li>
            <li class="nav-item">
              <a
                class="bd-links-link d-inline-block rounded {{'visits-animals'|active_if_path_match:request}}"
                href="{% url 'dashboard:visits-animals-list'%}"
              >
                Visita Sanidad Animal</a
              >
            </li>
            <li class="nav-item">
              <a
                class="bd-links-link d-inline-block rounded {{'visits-vacuno'|active_if_path_match:request}}"
                href="{% url 'dashboard:visits-vacuno-list'%}"
              >
                Visita MG Vacuno</a
              >
            </li>
            <li class="nav-item">
              <a
                class="bd-links-link d-inline-block rounded {{'visits-ovino'|active_if_path_match:request}}"
                href="{% url 'dashboard:visits-ovino-list'%}"
              >
                Visita MG Ovino</a
              >
            </li>
            <li class="nav-item">
              <a
                class="bd-links-link d-inline-block rounded {{'visits-alpaca'|active_if_path_match:request}}"
                href="{% url 'dashboard:visits-alpaca-list'%}"
              >
                Visita MG Alpaca</a
              >
            </li>
            <li class="nav-item">
              <a
                class="bd-links-link d-inline-block rounded {{'visits-components'|active_if_path_match:request}}"
                href="{% url 'dashboard:visits-components-list'%}"
              >
                Registro componentes II y III</a
              >
            </li>
            <li class="nav-item">
              <a
                class="bd-links-link d-inline-block rounded {{'production_units'|active_if_path_match:request}}"
                href="{% url 'dashboard:production_units-list'%}"
              >
                Unidades Productivas
              </a>
            </li>
            {% if user.is_superuser %}
            <li class="nav-item">
              <strong
                class="bd-links-heading d-flex w-100 align-items-center fw-semibold"
              >
                Configuraciones
              </strong>
            </li>
            <li class="nav-item">
              <a
                class="bd-links-link d-inline-block rounded {{'people'|active_if_path_match:request}}"
                href="{% url 'dashboard:people-list'%}"
              >
                Personas
              </a>
            </li>
            <li class="nav-item">
              <a
                class="bd-links-link d-inline-block rounded {{'api/zone'|active_if_path_match:request}}"
                href="/api/zones/"
              >
                Zonas
              </a>
            </li>
            <li class="nav-item">
              <a
                class="bd-links-link d-inline-block rounded {{'sectors'|active_if_path_match:request}}"
                href="/api/sectors/"
              >
                Sectores
              </a>
            </li>
            <li class="nav-item">
              <a
                class="bd-links-link d-inline-block rounded {{'communities'|active_if_path_match:request}}"
                href="/api/communities/"
              >
                Comunidades
              </a>
            </li>
            <li class="nav-item">
              <a
                class="bd-links-link d-inline-block rounded {{'activities'|active_if_path_match:request}}"
                href="{% url 'dashboard:activities-list' %}"
              >
                Actividades
              </a>
            </li>
            <li class="nav-item">
              <a
                class="bd-links-link d-inline-block rounded {{'sickness_observations'|active_if_path_match:request}}"
                href="{% url 'dashboard:sickness_observations-list' %}"
              >
                Enfermedades / Observaciones
              </a>
            </li>
            <li class="nav-item">
              <a
                class="bd-links-link d-inline-block rounded {{'diagnostics'|active_if_path_match:request}}"
                href="{% url 'dashboard:diagnostics-list' %}"
              >
                Diagnosticos
              </a>
            </li>
            <li class="nav-item">
              <a
                class="bd-links-link d-inline-block rounded {{'drugs'|active_if_path_match:request}}"
                href="{% url 'dashboard:drugs-list' %}"
              >
                Farmacos
              </a>
            </li>
            <li class="nav-item">
              <a
                class="bd-links-link d-inline-block rounded {{'change-period/'|active_if_path_match:request}}"
                href="{% url 'dashboard:change_anual_period' %}"
              >
                Modificar periodo anual
              </a>
            </li>
            <li>
              <strong
                class="bd-links-heading d-flex w-100 align-items-center fw-semibold"
              >
                Subida de información
              </strong>
            </li>
            <li class="nav-item">
              <a
                class="bd-links-link d-inline-block rounded {{'import-xls/animales/'|active_if_path_match:request}}"
                href="{% url 'dashboard:upload_file' 'animales' %}"
              >
                Animales
              </a>
            </li>
            <li class="nav-item">
              <a
                class="bd-links-link d-inline-block rounded {{'import-xls/pastos/'|active_if_path_match:request}}"
                href="{% url 'dashboard:upload_file' 'pastos' %}"
              >
                Pastos
              </a>
            </li>
            <li class="nav-item">
              <a
                class="bd-links-link d-inline-block rounded {{'import-xls/componentes/'|active_if_path_match:request}}"
                href="{% url 'dashboard:upload_file' 'componentes' %}"
              >
                Componentes II y III
              </a>
            </li>
            <li class="nav-item">
              <a
                class="bd-links-link d-inline-block rounded {{'files-checksum'|active_if_path_match:request}}"
                href="{% url 'dashboard:files-checksum-list' %}"
              >
                Historial
              </a>
            </li>
            {% endif %}
            <li class="nav-item">
              <a
                class="bd-links-link d-inline-block rounded"
                href="{% url 'logout' %}"
                >Salir</a
              >
            </li>
          </ul>
        </div>
        <!--/.nav-collapse -->
      </div>
    </nav>

    <div class="container-fluid">
      <div class="row">
        <div class="col-sm-3 col-md-2 sidebar">
          <strong
            class="bd-links-heading d-flex w-100 align-items-center fw-semibold"
          >
            General
          </strong>
          <ul class="nav nav-sidebar">
            {% if user.is_superuser %}
            <li class="nav-item">
              <a
                class="bd-links-link d-inline-block rounded {{'reports/weekly'|active_if_path_match:request}}"
                href="{% url 'dashboard:report_weekly'%}"
              >
                Reporte Semanal
              </a>
            </li>
            <li class="nav-item">
              <a
                class="bd-links-link d-inline-block rounded {{'reports/monthly'|active_if_path_match:request}}"
                href="{% url 'dashboard:report_monthly'%}"
              >
                Reporte Mensual
              </a>
            </li>
            <li class="nav-item">
              <a
                class="bd-links-link d-inline-block rounded {{'reports/yearly'|active_if_path_match:request}}"
                href="{% url 'dashboard:report_yearly'%}"
              >
                Reporte Anual
              </a>
            </li>
            {% endif %}
            <li class="nav-item">
              <a
                class="bd-links-link d-inline-block rounded {{'reports/zones'|active_if_path_match:request}}"
                href="{% url 'dashboard:report_zones'%}"
              >
                Reporte Por Zona
              </a>
            </li>
            <li class="nav-item">
              <a
                class="bd-links-link d-inline-block rounded {{'reports/community'|active_if_path_match:request}}"
                +
                href="{% url 'dashboard:report_community'%}"
              >
                Reporte Por Comunidad
              </a>
            </li>
            <li class="nav-item">
              <a
                class="bd-links-link d-inline-block rounded {{'visits-grass'|active_if_path_match:request}}"
                href="{% url 'dashboard:visits-grass-list'%}"
              >
                Visita de Pastos</a
              >
            </li>
            <li class="nav-item">
              <a
                class="bd-links-link d-inline-block rounded {{'visits-animals'|active_if_path_match:request}}"
                href="{% url 'dashboard:visits-animals-list'%}"
              >
                Visita Sanidad Animal</a
              >
            </li>
            <li class="nav-item">
              <a
                class="bd-links-link d-inline-block rounded {{'visits-vacuno'|active_if_path_match:request}}"
                href="{% url 'dashboard:visits-vacuno-list'%}"
              >
                Visita MG Vacuno</a
              >
            </li>
            <li class="nav-item">
              <a
                class="bd-links-link d-inline-block rounded {{'visits-ovino'|active_if_path_match:request}}"
                href="{% url 'dashboard:visits-ovino-list'%}"
              >
                Visita MG Ovino</a
              >
            </li>
            <li class="nav-item">
              <a
                class="bd-links-link d-inline-block rounded {{'visits-alpaca'|active_if_path_match:request}}"
                href="{% url 'dashboard:visits-alpaca-list'%}"
              >
                Visita MG Alpaca</a
              >
            </li>
            <li class="nav-item">
              <a
                class="bd-links-link d-inline-block rounded {{'visits-components'|active_if_path_match:request}}"
                href="{% url 'dashboard:visits-components-list'%}"
              >
                Registro componentes II y III</a
              >
            </li>
            <li class="nav-item">
              <a
                class="bd-links-link d-inline-block rounded {{'production_units'|active_if_path_match:request}}"
                href="{% url 'dashboard:production_units-list'%}"
              >
                Unidades Productivas
              </a>
            </li>
          </ul>
          {% if user.is_superuser %}
          <strong
            class="bd-links-heading d-flex w-100 align-items-center fw-semibold"
          >
            Configuraciones
          </strong>
          <ul class="nav nav-sidebar">
            <li class="nav-item">
              <a
                class="bd-links-link d-inline-block rounded {{'people'|active_if_path_match:request}}"
                href="{% url 'dashboard:people-list'%}"
              >
                Personas
              </a>
            </li>
            <li class="nav-item">
              <a
                class="bd-links-link d-inline-block rounded {{'api/zone'|active_if_path_match:request}}"
                href="/api/zones/"
              >
                Zonas
              </a>
            </li>
            <li class="nav-item">
              <a
                class="bd-links-link d-inline-block rounded {{'sectors'|active_if_path_match:request}}"
                href="/api/sectors/"
              >
                Sectores
              </a>
            </li>
            <li class="nav-item">
              <a
                class="bd-links-link d-inline-block rounded {{'communities'|active_if_path_match:request}}"
                href="/api/communities/"
              >
                Comunidades
              </a>
            </li>
            <li class="nav-item">
              <a
                class="bd-links-link d-inline-block rounded {{'activities'|active_if_path_match:request}}"
                href="{% url 'dashboard:activities-list' %}"
              >
                Actividades
              </a>
            </li>
            <li class="nav-item">
              <a
                class="bd-links-link d-inline-block rounded {{'sickness_observations'|active_if_path_match:request}}"
                href="{% url 'dashboard:sickness_observations-list' %}"
              >
                Enfermedades / Observaciones
              </a>
            </li>
            <li class="nav-item">
              <a
                class="bd-links-link d-inline-block rounded {{'diagnostics'|active_if_path_match:request}}"
                href="{% url 'dashboard:diagnostics-list' %}"
              >
                Diagnosticos
              </a>
            </li>
            <li class="nav-item">
              <a
                class="bd-links-link d-inline-block rounded {{'drugs'|active_if_path_match:request}}"
                href="{% url 'dashboard:drugs-list' %}"
              >
                Farmacos
              </a>
            </li>
            <li class="nav-item">
              <a
                class="bd-links-link d-inline-block rounded {{'change-period/'|active_if_path_match:request}}"
                href="{% url 'dashboard:change_anual_period' %}"
              >
                Modificar periodo anual
              </a>
            </li>
          </ul>
          <strong
            class="bd-links-heading d-flex w-100 align-items-center fw-semibold"
          >
            Subida de información
          </strong>
          <ul class="nav nav-sidebar">
            <li class="nav-item">
              <a
                class="bd-links-link d-inline-block rounded {{'import-xls/animales/'|active_if_path_match:request}}"
                href="{% url 'dashboard:upload_file' 'animales' %}"
              >
                Animales
              </a>
            </li>
            <li class="nav-item">
              <a
                class="bd-links-link d-inline-block rounded {{'import-xls/pastos/'|active_if_path_match:request}}"
                href="{% url 'dashboard:upload_file' 'pastos' %}"
              >
                Pastos
              </a>
            </li>
            <li class="nav-item">
              <a
                class="bd-links-link d-inline-block rounded {{'import-xls/componentes/'|active_if_path_match:request}}"
                href="{% url 'dashboard:upload_file' 'componentes' %}"
              >
                Componentes II y III
              </a>
            </li>
            <li class="nav-item">
              <a
                class="bd-links-link d-inline-block rounded {{'files-checksum'|active_if_path_match:request}}"
                href="{% url 'dashboard:files-checksum-list' %}"
              >
                Historial
              </a>
            </li>
          </ul>
          {% endif %}
          <ul class="nav nav-sidebar">
            <li class="nav-item">
              <a
                class="bd-links-link d-inline-block rounded"
                href="{% url 'logout' %}"
                >Salir</a
              >
            </li>
          </ul>
        </div>
        <div class="col-sm-9 col-sm-offset-3 col-md-10 col-md-offset-2 main">
          {% block body %}{% endblock %}
        </div>
      </div>
    </div>

    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

    <script src="{% static 'rest_framework/js/jquery-3.5.1.min.js' %}"></script>
    <script src="{% static 'rest_framework/js/bootstrap.min.js' %}"></script>
    <script
      type="text/javascript"
      src="//cdnjs.cloudflare.com/ajax/libs/moment.js/2.9.0/moment-with-locales.min.js"
    ></script>
    <script
      type="text/javascript"
      src="https://monim67.github.io/bootstrap-datetimepicker/js/bootstrap-datetimepicker.min.js"
    ></script>
    <!-- Just to make our placeholder images work. Don't actually copy the next line! -->
    <!-- <script src="../../assets/js/vendor/holder.min.js"></script> -->
    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <!-- <script src="../../assets/js/ie10-viewport-bug-workaround.js"></script> -->
    <script
      type="text/javascript"
      src="https://unpkg.com/xlsx@0.15.1/dist/xlsx.full.min.js"
    ></script>
    <script>
      function ExportToExcel(type, fn, dl) {
        var elt = document.getElementById("exportable");
        var wb = XLSX.utils.table_to_book(elt, { sheet: "sheet1" });
        return dl
          ? XLSX.write(wb, { bookType: type, bookSST: true, type: "base64" })
          : XLSX.writeFile(wb, fn || "cesem-." + (type || "xlsx"));
      }
    </script>

    {% block script %} {% endblock %}
    <script>
      $(function () {
        if (location.pathname.includes("/api/files-checksum/")) {
          $("#delete_btn_label").text("Eliminar y eliminar visitas importadas");

          $("#delete_btn_form").click((e) => {
            e.preventDefault();
            if (
              confirm(
                "¿Esta seguro de eliminar este registro y todas las visitas asociadas?"
              )
            ) {
              $("#delete_form").submit();
            } else {
              return false;
            }
          });
        }
        if (location.pathname.includes("/api/visits-animals/") || location.pathname.includes("/api/visits-grass/")) {
          
          $(".selector-prop:contains(UP)").parent().hide();
          $(".selector-prop:contains(Actividad)").first().parent().hide();
          $(".selector-prop:contains(Enfermedad/observación)").first().parent().hide();
          $(".selector-prop:contains(Diagnostico)").first().parent().hide();
          $(".selector-prop:contains(Personal responsable)").first().parent().hide();
          $(".selector-prop:contains(Personal especialista)").first().parent().hide();
          
        }
        $("#from-datepicker,#to-datepicker,#from-anual-period").datetimepicker({
          locale: "es",
          allowInputToggle: false,
          showClose: false,
          showClear: false,
          showTodayButton: false,
          format: "YYYY-MM-DD",
        });
      });
    </script>
  </body>
</html>
